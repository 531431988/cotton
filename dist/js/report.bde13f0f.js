(window.webpackJsonp=window.webpackJsonp||[]).push([["report"],{1:function(t,e){},1192:function(t,e,a){},1786:function(t,e,a){"use strict";a.r(e);var r=a("b199"),n=a("90fe"),s=a("2af9"),i=a("3a4e"),o=a("d9ef"),l={components:{Breadcrumb:s.b,ReportCard:i.a,AddReportInfo:o.a},data:function(){return{query:null,tableCol:[],tableData:[],loading:!0,visible:!1}},created:function(){var t=this,e=this.$route.query,a=Object(n.b)(e.status),s=this.$auth;this.query=e,s("provinces")?this.tableCol=a.filter((function(t){if("审核状态"!==t.title&&"操作"!==t.title)return t})):this.tableCol=a,Object(r.b)().then((function(e){var a=e.data;t.tableData=a,t.loading=!1}))},filters:{statusFilter:function(t){return n.a[t].text},statusTypeFilter:function(t){return n.a[t].status}},methods:{onReport:function(){var t=this;setTimeout((function(){t.loading=!0,t.$message.success("上报成功"),t.loading=!1}),1e3)},onZeroDeclare:function(){var t=this;this.$confirm({title:"将删除所有下辖行政区已上报信息，并做零申报，是否确定？",okText:"确定",cancelText:"取消",onOk:function(){t.$message.success("操作成功")}})}}},u=a("2877"),c=Object(u.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-card",{attrs:{bordered:!1}},[a("Breadcrumb",{attrs:{slot:"title"},slot:"title"}),t.$auth("cities")||t.$auth("areas")?a("ReportCard",{on:{"on-add":function(e){t.visible=!0},"on-report":t.onReport}},[a("a-button",{staticClass:"mr15",attrs:{type:"primary",ghost:"",disabled:"3"===t.query.status},on:{click:t.onZeroDeclare}},[t._v("零申报")])],1):t._e(),a("a-table",{attrs:{columns:t.tableCol,dataSource:t.tableData,loading:t.loading},scopedSlots:t._u([{key:"reportArea",fn:function(e){var r=e.reportArea;return[t.$auth("provinces")?a("router-link",{attrs:{to:"/info-report/streets?cities="+t.query.cities+"&areas="+t.query.areas+"&streets="+r+"&status="+t.query.status}},[t._v(t._s(r))]):t._e(),t.$auth("cities")||t.$auth("areas")?a("router-link",{attrs:{to:"/info-report/streets?areas="+t.query.areas+"&streets="+r+"&status="+t.query.status}},[t._v(t._s(r))]):t._e(),t.$auth("streets")?a("router-link",{attrs:{to:"/info-report/streets?streets="+r+"&status="+t.query.status}},[t._v(t._s(r))]):t._e()]}},t.$auth("cities")||t.$auth("areas")?{key:"status",fn:function(e){var r=e.status;return[a("a-badge",{attrs:{color:t._f("statusTypeFilter")(r),text:t._f("statusFilter")(r)}})]}}:null,t.$auth("cities")||t.$auth("areas")?{key:"action",fn:function(e){var r=e.status,n=e.key;return[1===r?a("a-popconfirm",{attrs:{title:"您确定要审核通过吗？",okText:"确定",cancelText:"取消"},on:{confirm:function(){return t.onSigned(n)}}},[a("a-button",{staticClass:"t-primary",attrs:{type:"link",size:"small"}},[t._v("审核通过")])],1):t._e(),1===r?a("a-divider",{attrs:{type:"vertical"}}):t._e(),0!==r?a("a-popconfirm",{attrs:{title:"您确定要驳回吗?",okText:"确定",cancelText:"取消"},on:{confirm:function(){return t.onReject(n)}}},[a("a-button",{staticClass:"t-warning",attrs:{type:"link",size:"small"}},[t._v("驳回")])],1):t._e()]}}:null],null,!0)}),a("AddReportInfo",{attrs:{visible:t.visible},on:{"on-ok":function(e){t.visible=!1},"on-cancel":function(e){t.visible=!1}}})],1)}),[],!1,null,"6d96d28f",null);e.default=c.exports},2:function(t,e){},3:function(t,e){},"321c":function(t,e,a){"use strict";a.r(e),a.d(e,"auditStateMap",(function(){return c}));var r=a("2af9"),n=a("b199"),s=a("90fe"),i=a("3a4e"),o=a("d9ef");function l(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return u(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return u(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,r=new Array(e);a<e;a++)r[a]=t[a];return r}var c={0:{status:"#ed4014",text:"未提交"},1:{status:"#FA6400",text:"待审核"},2:{status:"#36A065",text:"已审核"}},f={components:{Breadcrumb:r.b,ReportCard:i.a,AddReportInfo:o.a},data:function(){return{query:null,tableCol:[],tableData:[],loading:!0,visible:!1,disabled:!0}},created:function(){var t=this,e=this.$route.query,a=Object(s.b)(e.status),r=this.$auth;this.query=e,r("streets")?this.tableCol=a:this.tableCol=a.filter((function(t){if("审核状态"!==t.title&&"操作"!==t.title)return t})),Object(n.d)().then((function(e){var a=e.data;t.$auth("streets")&&(a=[]),t.loading=!1,t.tableData=a}))},filters:{statusFilter:function(t){return c[t].text},statusTypeFilter:function(t){return c[t].status}},methods:{onZeroDeclare:function(){var t=this;this.$confirm({title:"将删除所有下辖行政区已上报信息，并做零申报，是否确定？",okText:"确定",cancelText:"取消",onOk:function(){t.$message.success("操作成功")}})},onReport:function(){var t=this;setTimeout((function(){t.loading=!0,t.$message.success("上报成功"),t.loading=!1,t.tableData.map((function(t){return t.status=1}))}),1e3)},onImport:function(t){var e=this;this.type=t,this.visible=!1,this.$auth("streets")&&Object(n.d)().then((function(t){var a;e.$message.success("导入成功"),(a=e.tableData).unshift.apply(a,l(t.data.splice(0,3))),e.disabled=!1}))},onDelete:function(t){var e=l(this.tableData);this.tableData=e.filter((function(e){return e.key!==t})),this.$message.success("操作成功")}}},d=(a("874b"),a("2877")),p=Object(d.a)(f,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-card",{staticClass:"card-box-shadow",attrs:{bordered:!1}},[t.$auth("streets")?a("ReportCard",{attrs:{disabled:t.disabled},on:{"on-add":function(e){t.visible=!0},"on-report":t.onReport}},[a("a-button",{staticClass:"mr15",attrs:{type:"primary",ghost:"",disabled:"3"===t.query.status},on:{click:t.onZeroDeclare}},[t._v("零申报")])],1):t._e(),a("Breadcrumb",{attrs:{slot:"title"},slot:"title"}),a("a-table",{attrs:{columns:t.tableCol,dataSource:t.tableData,loading:t.loading},scopedSlots:t._u([{key:"reportArea",fn:function(e){var r=e.reportArea;return[t.$auth("provinces")?a("router-link",{attrs:{to:"/info-report/villages?cities="+t.query.cities+"&areas="+t.query.areas+"&streets="+t.query.streets+"&villages="+r+"&status="+t.query.status}},[t._v(t._s(r))]):t._e(),t.$auth("cities")||t.$auth("areas")?a("router-link",{attrs:{to:"/info-report/villages?&areas="+t.query.areas+"&streets="+t.query.streets+"&villages="+r+"&status="+t.query.status}},[t._v(t._s(r))]):t._e(),t.$auth("streets")?a("router-link",{attrs:{to:"/info-report/villages?streets="+t.query.streets+"&villages="+r+"&status="+t.query.status}},[t._v(t._s(r))]):t._e()]}},t.$auth("streets")?{key:"status",fn:function(e){var r=e.status;return[a("a-badge",{attrs:{color:t._f("statusTypeFilter")(r),text:t._f("statusFilter")(r)}})]}}:null,{key:"action",fn:function(e){var r=e.status,n=e.key;return[0===r?a("a-popconfirm",{attrs:{title:"您确定要删除吗?",okText:"确定",cancelText:"取消"},on:{confirm:function(){return t.onDelete(n)}}},[a("a-button",{staticClass:"t-warning",attrs:{type:"link",size:"small"}},[t._v("删除")])],1):t._e()]}}],null,!0)}),a("AddReportInfo",{attrs:{visible:t.visible},on:{"on-ok":t.onImport,"on-cancel":function(e){t.visible=!1}}})],1)}),[],!1,null,"a1e26e50",null);e.default=p.exports},"3a4e":function(t,e,a){"use strict";var r=a("90fe"),n=a("f028"),s=a.n(n),i=a("bda4"),o=a.n(i),l=a("2f62");function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function c(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var f={props:{disabled:{type:Boolean,default:!1}},components:{ReportSvg:s.a,notReportSvg:o.a},data:function(){return{reported:["XXX","XXX","XXX","XXX","XXX","XXX"],notReported:["XXX","XXX","XXX","XXX","XXX","XXX","XXX","XXX","XXX","XXX"],query:null}},created:function(){var t=this.$route.query;this.query=t},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(Object(a),!0).forEach((function(e){c(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(l.d)({role:function(t){return t.user.role}}),{title:function(){var t=this.query.status;return r.c[t].text}}),methods:{onReport:function(){var t=this;this.$confirm({title:"提交上报信息",content:"您确定要提交吗？",okText:"确定",cancelText:"取消",onOk:function(){t.$emit("on-report")}})}}},d=(a("4124"),a("2877")),p=Object(d.a)(f,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-row",{attrs:{type:"flex"}},[a("div",{staticClass:"vui-flex-item pr25"},[a("Title",{attrs:{title:"信息上报进度跟踪"}})],1)]),a("a-row",{staticClass:"mt15",attrs:{gutter:16}},[a("a-col",{attrs:{span:6}},[a("a-row",{attrs:{type:"flex",align:"middle",justify:"center"}},[a("a-col",{staticClass:"mr25"},[a("div",[t._v("种植主体总计：")]),a("p",{staticClass:"b"},[t._v("XXX 个")]),a("div",[t._v("种植面积总计：")]),a("p",{staticClass:"b"},[t._v("XXXX 亩")]),"2"===t.query.status||"3"===t.query.status?[a("div",[t._v("销售规模总计：")]),a("p",{staticClass:"b"},[t._v("XXXX 亩")])]:t._e()],2),a("a-col",[a("div",{staticClass:"mb15"},[a("a-progress",{attrs:{type:"circle",strokeColor:"#FFCE45",percent:35,format:function(t){return"35 / 90"}}})],1),a("a-badge",{attrs:{color:"#FEC86B",text:"已上报比例 6%"}})],1)],1)],1),a("a-col",{attrs:{span:9}},[a("a-row",{staticClass:"report-card-list pd25",attrs:{type:"flex",align:"top",justify:"center"}},[a("a-col",[a("div",{staticClass:"icon reported"},[a("ReportSvg")],1)]),a("a-col",{staticClass:"vui-flex-item pl25"},[a("div",{staticClass:"title"},[t._v("已上报")]),t._l(t.reported,(function(e,r){return a("span",{key:r,staticClass:"item"},[t._v(t._s(e))])}))],2)],1)],1),a("a-col",{attrs:{span:9}},[a("a-row",{staticClass:"report-card-list pd25",attrs:{type:"flex",align:"top",justify:"center"}},[a("a-col",[a("div",{staticClass:"icon not-report"},[a("notReportSvg")],1)]),a("a-col",{staticClass:"vui-flex-item pl25"},[a("div",{staticClass:"title"},[t._v("未上报")]),t._l(t.notReported,(function(e,r){return a("span",{key:r,staticClass:"item"},[t._v(t._s(e))])}))],2)],1)],1)],1),a("a-row",{staticClass:"mt40 mb15",attrs:{type:"flex"}},[a("div",{staticClass:"vui-flex-item pr25"},[a("Title",{attrs:{title:t.title}})],1),t._t("default"),"provinces"!==t.role?[a("a-button",{staticClass:"btn-warning mr15",attrs:{type:"primary",disabled:"3"===t.query.status},on:{click:function(e){return t.$emit("on-add")}}},[a("a-icon",{attrs:{type:"plus-circle"}}),t._v("录入信息 ")],1),a("a-button",{attrs:{type:"primary",disabled:t.disabled||"3"===t.query.status},on:{click:t.onReport}},[t._v("提交信息")])]:t._e()],2)],1)}),[],!1,null,"b43ad77a",null);e.a=p.exports},4124:function(t,e,a){"use strict";var r=a("63c1");a.n(r).a},5187:function(t,e,a){},"63c1":function(t,e,a){},"68be":function(t,e,a){"use strict";a.r(e);var r=a("2af9"),n=a("b199"),s={props:{visible:{type:Boolean,default:!1},data:{type:String,default:""}},data:function(){return{main:null,plant:null,sell:null}},created:function(){var t=this,e=this.$route.query;this.query=e,Object(n.f)({key:1}).then((function(e){var a=e.data,r=a.main,n=a.plant,s=a.sell;t.main=r,t.plant=n,t.sell=s}))},methods:{}},i=(a("f729"),a("2877")),o=Object(i.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-drawer",{attrs:{title:"查看详情",placement:"right",width:"550",closable:!1,visible:t.visible},on:{close:function(e){return t.$emit("on-cancel")}}},[a("a-form",{staticClass:"form-info form-item-sm",attrs:{layout:"horizontal",labelAlign:"left"}},[t.main?[a("Title",{staticClass:"mb10",attrs:{title:"主体信息"}}),a("a-form-item",{attrs:{label:"主体类型"}},[t._v(t._s(t.main.type))]),a("a-form-item",{attrs:{label:"主体名称（姓名）"}},[t._v(t._s(t.main.name))]),a("a-form-item",{attrs:{label:"证件类型"}},[t._v(t._s(t.main.certificateType))]),a("a-form-item",{attrs:{label:"证件号码"}},[t._v(t._s(t.main.cardId))]),a("a-form-item",{attrs:{label:"所属行政区划"}},[t._v(t._s(t.main.district))]),a("a-form-item",{attrs:{label:"详细地址"}},[t._v(t._s(t.main.address))]),a("a-form-item",{attrs:{label:"联系电话（手机号）"}},[t._v(t._s(t.main.phone))]),a("a-form-item",{attrs:{label:"主体性质"}},[t._v(t._s(t.main.nature))]),a("a-form-item",{attrs:{label:"土地来源"}},[t._v(t._s(t.main.origin))])]:t._e(),t.plant?[a("a-divider"),a("Title",{staticClass:"mb10",attrs:{title:"种植信息"}}),a("a-form-item",{attrs:{label:"种植地点"}},[t._v(t._s(t.plant.lace))]),a("a-form-item",{attrs:{label:"种植面积（亩）"}},[t._v(t._s(t.plant.plantingArea))]),a("a-form-item",{attrs:{label:"种植品种"}},[t._v(t._s(t.plant.variety))]),a("a-form-item",{attrs:{label:"平均单产（籽棉）"}},[t._v(t._s(t.plant.averageYield)+" 公斤/亩")]),a("a-form-item",{attrs:{label:"总产量（籽棉）"}},[t._v(t._s(t.plant.total))])]:t._e(),"2"!==t.query.status&&"3"!==t.query.status||!t.sell?t._e():[a("a-divider"),a("Title",{staticClass:"mb10",attrs:{title:"交易信息"}}),a("a-form-item",{attrs:{label:"销售规模（籽棉）"}},[t._v(t._s(t.sell.salesScale)+" 公斤")]),a("a-form-item",{attrs:{label:"平均销售价格（籽棉）"}},[t._v(t._s(t.sell.averagePrice)+" 元/公斤")])]],2)],1)}),[],!1,null,"3904061b",null).exports,l={components:{Breadcrumb:r.b,RuralDrawer:o},data:function(){return{query:null,tableCol:[],tableData:[],visible:!1,data:null}},created:function(){var t=this,e=this.$route.query,a=Number(e.status);this.query=e;var r=[{title:"主体类型",scopedSlots:{customRender:"type"}},{title:"主体名称",dataIndex:"name",align:"center"},{title:"种植面积（亩）",dataIndex:"plantingArea",align:"center"},{title:"平均单产（公斤/亩）",dataIndex:"averageYield",align:"center"}];0!==a&&1!==a||(this.tableCol=[].concat(r)),2!==a&&3!==a||(this.tableCol=[].concat(r,[{title:"销售规模（公斤）",dataIndex:"salesScale",align:"center"},{title:"平均销售价格（元/公斤）",dataIndex:"averagePrice",align:"center"}])),Object(n.e)().then((function(e){var a=e.data;t.tableData=a}))},methods:{onClick:function(t){this.visible=!0,this.data=t.key}}},u=Object(i.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-card",{staticClass:"card-box-shadow",attrs:{bordered:!1}},[a("Breadcrumb",{attrs:{slot:"title"},slot:"title"}),a("a-table",{attrs:{columns:t.tableCol,dataSource:t.tableData,loading:!t.tableData.length},scopedSlots:t._u([{key:"type",fn:function(e){return[a("a-button",{attrs:{type:"link"},on:{click:function(a){return t.onClick(e)}}},[t._v(t._s(e.type))])]}}])}),a("RuralDrawer",{attrs:{visible:t.visible,data:t.data},on:{"on-cancel":function(e){t.visible=!1}}})],1)}),[],!1,null,"15d073b3",null);e.default=u.exports},"874b":function(t,e,a){"use strict";var r=a("b222");a.n(r).a},"90fe":function(t,e,a){"use strict";a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return s}));var r={0:{status:"warning",text:"种植信息上报中"},1:{status:"processing",text:"种植信息上报完成"},2:{status:"warning",text:"交易信息上报中"},3:{status:"success",text:"上报已完成"}},n={0:{status:"#ed4014",text:"驳回"},1:{status:"#FA6400",text:"待审核"},2:{status:"#36A065",text:"已审核"}},s=function(t){var e=[{title:"上报地区",scopedSlots:{customRender:"reportArea"}},{title:"种植主体总计（个）",dataIndex:"mainTotal",align:"center"},{title:"种植面积总计（亩）",dataIndex:"areaTotal",align:"center"}],a=[{title:"销售规模总计（公斤）",dataIndex:"salesTotal",align:"center"}],r=[{title:"审核状态",scopedSlots:{customRender:"status"},align:"center"},{title:"操作",scopedSlots:{customRender:"action"},align:"center"}];return 0===(t=Number(t))?[].concat(e,r):1===t?e:2===t?[].concat(e,a,r):[].concat(e,a)}},"95a1":function(t,e,a){"use strict";a.r(e);var r=a("d9ef"),n=a("b199"),s=a("90fe"),i=a("2af9"),o=a("3a4e");function l(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return u(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return u(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,r=new Array(e);a<e;a++)r[a]=t[a];return r}var c={components:{Breadcrumb:i.b,AddReportInfo:r.a,ReportCard:o.a},data:function(){return{query:null,isSign:!1,visible:!1,tableCol:[],tableData:[],loading:!0}},created:function(){var t=this,e=this.$route.query;this.query=e,this.tableCol=Object(s.b)(e.status),Object(n.a)().then((function(e){var a=e.data;t.tableData=a,t.loading=!1}))},computed:{taskBtnShow:function(){var t=this.$route.query.status;return(0,this.$auth)("provinces")&&("0"===t||"2"===t)}},filters:{statusFilter:function(t){return s.a[t].text},statusTypeFilter:function(t){return s.a[t].status}},methods:{onReject:function(t){var e=l(this.tableData);this.tableData=e.filter((function(e){return e.key!==t})),this.$message.success("操作成功")},onSigned:function(t){var e=l(this.tableData);this.tableData=e.map((function(e){return e.key===t&&(e.status=2),e})),this.$message.success("操作成功")},onTaskSign:function(){var t=this;this.$confirm({title:"任务签收后",content:"将锁定各级信息录入和提交，是否确定签收任务？",okText:"确定",cancelText:"取消",onOk:function(){t.isSign=!t.isSign,t.$message.success("操作成功")}})}}},f=(a("dd50"),a("2877")),d=Object(f.a)(c,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-card",{attrs:{bordered:!1}},[a("Breadcrumb",{attrs:{slot:"title"},slot:"title"}),a("ReportCard",{on:{"on-add":function(e){t.visible=!0}}},[t.taskBtnShow?a("a-button",{attrs:{type:t.isSign?"danger":"primary"},on:{click:t.onTaskSign}},[t._v(t._s(t.isSign?"取消签收":"任务签收"))]):t._e()],1),a("a-table",{attrs:{columns:t.tableCol,dataSource:t.tableData,loading:t.loading},scopedSlots:t._u([{key:"reportArea",fn:function(e){var r=e.reportArea;return[a("router-link",{attrs:{to:"/info-report/areas?cities="+t.query.cities+"&areas="+r+"&status="+t.query.status}},[t._v(t._s(r))])]}},{key:"status",fn:function(e){var r=e.status;return[a("a-badge",{attrs:{color:t._f("statusTypeFilter")(r),text:t._f("statusFilter")(r)}})]}},t.isSign?null:{key:"action",fn:function(e){var r=e.status,n=e.key;return[1===r?a("a-popconfirm",{attrs:{title:"您确定要审核通过吗？",okText:"确定",cancelText:"取消"},on:{confirm:function(){return t.onSigned(n)}}},[a("a-button",{staticClass:"t-primary",attrs:{type:"link",size:"small"}},[t._v("审核通过")])],1):t._e(),1===r?a("a-divider",{attrs:{type:"vertical"}}):t._e(),1===r?a("a-popconfirm",{attrs:{title:"您确定要驳回吗?",okText:"确定",cancelText:"取消"},on:{confirm:function(){return t.onReject(n)}}},[a("a-button",{staticClass:"t-warning",attrs:{type:"link",size:"small"}},[t._v("驳回")])],1):t._e()]}}],null,!0)}),a("AddReportInfo",{attrs:{visible:t.visible},on:{"on-ok":function(e){t.visible=!1},"on-cancel":function(e){t.visible=!1}}})],1)}),[],!1,null,"f7879796",null);e.default=d.exports},b199:function(t,e,a){"use strict";a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i})),a.d(e,"d",(function(){return o})),a.d(e,"e",(function(){return l})),a.d(e,"f",(function(){return u}));var r=a("6b6c"),n=function(t){return Object(r.b)({url:"/task/provinces",method:"post",data:t})},s=function(t){return Object(r.b)({url:"/task/cities",method:"post",data:t})},i=function(t){return Object(r.b)({url:"/task/areas",method:"post",data:t})},o=function(t){return Object(r.b)({url:"/task/streets",method:"post",data:t})},l=function(t){return Object(r.b)({url:"/task/villages",method:"post",data:t})},u=function(t){return Object(r.b)({url:"/task/villages/info",method:"post",data:t})}},b222:function(t,e,a){},bda4:function(t,e){function a(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function n(t,e){if(null==t)return{};var a,r,n=function(t,e){if(null==t)return{};var a,r,n={},s=Object.keys(t);for(r=0;r<s.length;r++)a=s[r],e.indexOf(a)>=0||(n[a]=t[a]);return n}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)a=s[r],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}t.exports={functional:!0,render:function(t,e){var s=e._c,i=(e._v,e.data),o=e.children,l=void 0===o?[]:o,u=i.class,c=i.staticClass,f=i.style,d=i.staticStyle,p=i.attrs,b=void 0===p?{}:p,m=n(i,["class","staticClass","style","staticStyle","attrs"]);return s("svg",function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({class:[u,c],style:[f,d],attrs:Object.assign({width:"20",height:"21",xmlns:"http://www.w3.org/2000/svg"},b)},m),l.concat([s("g",{attrs:{id:"页面-1",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"}},[s("g",{attrs:{id:"3-任务详情",transform:"translate(-916 -422)",fill:"#FA6400","fill-rule":"nonzero"}},[s("g",{attrs:{id:"编组-16备份",transform:"translate(120 273)"}},[s("g",{attrs:{id:"编组-19",transform:"translate(762 118)"}},[s("g",{attrs:{id:"编组-16",transform:"translate(20 20)"}},[s("g",{attrs:{id:"编组-13"}},[s("g",{attrs:{id:"编组",transform:"translate(14 11)"}},[s("path",{attrs:{d:"M17.692 15.57H1.474V2.62c0-.615.496-1.117 1.104-1.117l9.933-.014L12.51 0 2.576.014C1.156.016 0 1.184 0 2.619v15.609c0 .696.27 1.352.758 1.842.488.491 1.136.763 1.822.763h.002l14.007-.018c1.421-.003 2.578-1.17 2.578-2.606V7.393h-1.475v8.176zm-1.103 3.756l-14.007.019a1.114 1.114 0 01-1.108-1.117v-1.17h16.218v1.151c0 .617-.495 1.117-1.103 1.117z",id:"形状"}}),s("path",{attrs:{d:"M19.526 1.713L18.285.472a1.622 1.622 0 00-2.29.002L8.486 7.98a.707.707 0 00-.191.344l-.776 3.293a.715.715 0 00.866.863l3.288-.782a.719.719 0 00.342-.19l7.509-7.505c.634-.63.634-1.657.002-2.29zm-8.381 8.633l-1.957.466.461-1.96 5.453-5.45 1.495 1.494-5.452 5.45zm7.364-7.36l-.893.892-1.495-1.495.893-.893a.18.18 0 01.254 0l1.241 1.241a.18.18 0 010 .254z",id:"形状"}})])])])])])])])]))}}},d5ab:function(t,e,a){"use strict";a.r(e);var r=a("b199"),n=a("90fe"),s=a("c1df"),i=a.n(s),o={props:{visible:{type:Boolean,default:!1},data:{type:Object,default:function(){return null}}},data:function(){return{form:{},rules:{name:[{required:!0,message:"名称不能为空"}],template:[{required:!0,message:"模板不能为空"}],date:[{required:!0,message:"上报截止时不能为空"}]},template:[{label:"湖北省2020年棉花种植信息上报模板",value:"0"}],typeList:[{label:"种植信息上报",value:"0",disabled:!!this.data},{label:"交易信息上报",value:"1",disabled:!this.data}]}},computed:{disabled:function(){return null!==this.data}},watch:{visible:function(){this.data?this.form={name:this.data.name,template:"0",date:i()(this.data.date)}:this.form={name:null,template:"0",date:null}}},methods:{disabledDate:function(t){return t>i()().endOf("day")},onOk:function(){var t=this;this.$refs.ruleForm.validate((function(e){if(!e)return!1;var a=t.form,r=a.name,n=a.date,s=a.template;t.$emit("on-ok",{name:r,date:i()(n).format("YYYY-MM-DD"),template:s,status:t.data?2:0,key:"".concat(Date.now())},t.data?1:0)}))}}},l=a("2877"),u=Object(l.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-modal",{attrs:{destroyOnClose:!0,title:"新建任务",okText:"启动"+(t.disabled?"交易":"种植")+"信息上报",cancelText:"取消",visible:t.visible,keyboard:!1,maskClosable:!1,width:"600px"},on:{ok:t.onOk,cancel:function(e){return t.$emit("on-cancel")}}},[a("a-form-model",{ref:"ruleForm",attrs:{model:t.form,rules:t.rules,"label-col":{span:6},"wrapper-col":{span:15}}},[a("a-form-model-item",{attrs:{label:"任务名称",prop:"name"}},[a("a-input",{attrs:{placeholder:"请输入任务名称",disabled:t.disabled},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("a-form-model-item",{attrs:{label:"任务模板",prop:"template"}},[a("a-select",{attrs:{options:t.template,placeholder:"请选择任务模板",disabled:t.disabled},model:{value:t.form.template,callback:function(e){t.$set(t.form,"template",e)},expression:"form.template"}})],1),a("a-form-model-item",{attrs:{label:"截止时间",prop:"date"}},[a("a-date-picker",{attrs:{placeholder:"请选择截止时间"},model:{value:t.form.date,callback:function(e){t.$set(t.form,"date",e)},expression:"form.date"}})],1),a("a-form-model-item",{attrs:{"wrapper-col":{offset:6}}},[t.data?a("a-radio-group",{attrs:{defaultValue:"1"}},[a("a-radio",{attrs:{value:"0",disabled:""}},[t._v("种植信息上报")]),a("a-radio",{attrs:{value:"1"}},[t._v("交易信息上报")])],1):a("a-radio-group",{attrs:{defaultValue:"0"}},[a("a-radio",{attrs:{value:"0"}},[t._v("种植信息上报")]),a("a-radio",{attrs:{value:"1",disabled:""}},[t._v("交易信息上报")])],1)],1)],1)],1)}),[],!1,null,"0b4e30eb",null).exports,c=a("2af9"),f=a("2f62");function d(t){return function(t){if(Array.isArray(t))return p(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return p(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return p(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,r=new Array(e);a<e;a++)r[a]=t[a];return r}function b(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function m(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var v={components:{AddTask:u,Breadcrumb:c.b},data:function(){return{tableCol:[],tableData:[],loading:!0,visible:!1,data:null}},created:function(){var t=this,e=this.$auth,a=[{title:"任务名称",scopedSlots:{customRender:"name"}},{title:"截止时间",dataIndex:"date"},{title:"状态",scopedSlots:{customRender:"status"}},{title:"操作",scopedSlots:{customRender:"action"}}];e("provinces")?this.tableCol=a:this.tableCol=a.slice(0,3),Object(r.c)().then((function(a){var r=a.data;e("provinces")||(r=[{key:"111",name:"2020年棉花种植信息上报",date:"2020-6-1",status:0},{key:"2222",name:"2019年棉花种植信息上报",date:"2019-6-1",status:2}]),t.tableData=r,t.loading=!1}))},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?b(Object(a),!0).forEach((function(e){m(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(f.d)({administrative:function(t){return t.user.userInfo.administrative}})),filters:{statusFilter:function(t){return n.c[t].text},statusTypeFilter:function(t){return n.c[t].status}},methods:{onAdd:function(){this.visible=!0,this.data=null},onCloseModal:function(){this.visible=!1,this.data=null},onAddOk:function(t,e){e?this.tableData[this.tableData.length-1]=t:this.tableData.unshift(t),this.visible=!1},onCancel:function(t){if(0===t){var e=d(this.tableData);this.tableData=e.filter((function(e){return e.key!==t}))}else{var a=d(this.tableData),r=a.findIndex((function(e){return e.key===t}));a[r].status=1,this.tableData=a}this.$message.success("操作成功")},onStart:function(t){this.visible=!0,this.data=t}}},h=Object(l.a)(v,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-card",{staticClass:"card-box-shadow",attrs:{bordered:!1}},[a("a-row",{attrs:{slot:"title",type:"flex"},slot:"title"},[a("Breadcrumb")],1),a("a-row",{staticClass:"mb15",attrs:{type:"flex"}},[a("div",{staticClass:"vui-flex-item pr25"},[a("Title",{attrs:{title:"任务列表"}})],1),t.$auth("provinces")?a("a-button",{staticClass:"btn-warning",on:{click:t.onAdd}},[a("a-icon",{attrs:{type:"plus-circle"}}),t._v("新建任务 ")],1):t._e()],1),a("a-table",{attrs:{columns:t.tableCol,dataSource:t.tableData,loading:t.loading},scopedSlots:t._u([{key:"name",fn:function(e){var r=e.name,n=e.status;return[t.$auth("provinces")?a("router-link",{attrs:{to:"/info-report/cities?cities="+r+"&status="+n}},[t._v(t._s(r))]):t._e(),t.$auth("cities")||t.$auth("areas")?a("router-link",{attrs:{to:"/info-report/areas?areas="+t.administrative+"-上报信息&status="+n}},[t._v(t._s(r))]):t._e(),t.$auth("streets")?[a("router-link",{attrs:{to:"/info-report/streets?streets="+t.administrative+"-上报信息&status="+n}},[t._v(t._s(r))])]:t._e()]}},{key:"status",fn:function(e){var r=e.status;return[a("a-badge",{attrs:{status:t._f("statusTypeFilter")(r),text:t._f("statusFilter")(r)}})]}},t.$auth("provinces")?{key:"action",fn:function(e){return[0===e.status||2===e.status?a("a-popconfirm",{attrs:{title:"您确定要撤回吗?",okText:"确定",cancelText:"取消"},on:{confirm:function(){return t.onCancel(e.key)}}},[a("a-button",{staticClass:"t-warning",attrs:{type:"link",size:"small"}},[t._v("撤回")])],1):t._e(),1===e.status?a("a-button",{staticClass:"t-success",attrs:{type:"link",size:"small"},on:{click:function(a){return t.onStart(e)}}},[t._v("启动交易信息上报")]):t._e()]}}:null],null,!0)}),a("AddTask",{attrs:{visible:t.visible,data:t.data},on:{"on-ok":t.onAddOk,"on-cancel":t.onCloseModal}})],1)}),[],!1,null,"3da30de4",null);e.default=h.exports},d9ef:function(t,e,a){"use strict";var r=a("1146"),n=a.n(r);function s(t,e){for(var a=e.map((function(t){return t.map((function(t){return null==t?{wch:10}:t.toString().charCodeAt(0)>255?{wch:2*t.toString().length}:{wch:t.toString().length}}))})),r=a[0],n=1;n<a.length;n++)for(var s=0;s<a[n].length;s++)r[s].wch<a[n][s].wch&&(r[s].wch=a[n][s].wch);t["!cols"]=r}function i(t,e){return e.map((function(e){return t.map((function(t){return e[t]}))}))}var o=function(t){var e=t.key,a=t.data,r=t.title,o=t.filename,l=t.autoWidth,u=n.a.utils.book_new(),c=i(e,a);c.unshift(r);var f=n.a.utils.aoa_to_sheet(c);l&&s(f,c),n.a.utils.book_append_sheet(u,f,o),n.a.writeFile(u,o+".xlsx")},l=function(t,e){var a=n.a.read(t,{type:e}),r=a.SheetNames[0],s=a.Sheets[r];return{header:function(t){var e,a=[],r=n.a.utils.decode_range(t["!ref"]),s=r.s.r;for(e=r.s.c;e<=r.e.c;++e){var i=t[n.a.utils.encode_cell({c:e,r:s})],o="UNKNOWN "+e;i&&i.t&&(o=n.a.utils.format_cell(i)),a.push(o)}return a}(s),results:n.a.utils.sheet_to_json(s)}},u=a("90fe"),c={props:{visible:{type:Boolean,default:!1}},data:function(){return{fileList:[],status:null}},created:function(){this.status=this.$route.query.status},filters:{statusFilter:function(t){return u.a[t].text},statusTypeFilter:function(t){return u.a[t].status}},methods:{onDownloadExcelTemplate:function(){o({title:["上报地区","种植主体总计","种植面积总计"],key:["reportArea","mainTotal","areaTotal"],data:[],autoWidth:!0,filename:"种植信息上报模板"})},onCancel:function(){this.fileList=[],this.$emit("on-cancel")},onOk:function(){this.fileList=[],this.$emit("on-ok",this.status)},beforeUpload:function(t){this.fileList.push(t),this.readFile(t)},onChange:function(t){},readFile:function(t){var e=this,a=new FileReader;a.readAsArrayBuffer(t),a.onloadstart=function(t){},a.onprogress=function(t){},a.onerror=function(t){e.$message.error("文件读取出错")},a.onload=function(t){e.$message.info("上传成功");var a=t.target.result,r=l(a,"array"),n=r.header,s=r.results,i=n.map((function(t){return{title:t,key:t}}));e.tableData=s,e.tableCol=i}}}},f=a("2877"),d=Object(f.a)(c,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-modal",{attrs:{title:"录入信息",okText:"确定",cancelText:"清除导入信息",visible:t.visible,keyboard:!1,maskClosable:!1,width:"50%"},on:{ok:t.onOk,cancel:t.onCancel}},[a("div",{staticStyle:{"min-height":"300px"}},[a("a-button",{staticClass:"mr15",on:{click:t.onDownloadExcelTemplate}},[a("a-icon",{attrs:{type:"download"}}),t._v(" "+t._s("2"===t.status?"下载已上报种植信息":"下载种植信息上报模板")+" ")],1),a("a-upload",{attrs:{fileList:t.fileList,name:"file",accept:".xls, .xlsx",showUploadList:!1,action:t.$config.upload,beforeUpload:t.beforeUpload},on:{change:t.onChange}},[a("a-button",{attrs:{type:"primary"}},[a("a-icon",{attrs:{type:"upload"}}),t._v("导入报表 ")],1)],1),"2"!==t.status||t.fileList.length?t._e():a("div",{staticClass:"pd25"},[a("p",[t._v("杨泗潭村：种植主体XXX，种植面积XXX亩")]),a("p",[t._v("杨泗潭村：种植主体XXX，种植面积XXX亩")]),a("p",[t._v("杨泗潭村：种植主体XXX，种植面积XXX亩")]),a("p",[t._v("杨泗潭村：种植主体XXX，种植面积XXX亩")])]),"2"===t.status&&t.fileList.length?a("div",{staticClass:"pd25"},[a("p",[t._v("杨泗潭村已导入：销售规模XXX公斤；")]),a("p",[t._v("杨泗潭村已导入：销售规模XXX公斤；")]),a("p",[t._v("杨泗潭村已导入：销售规模XXX公斤；")]),a("p",[t._v("杨泗潭村已导入：销售规模XXX公斤；")])]):t._e(),"2"!==t.status&&t.fileList.length?a("div",{staticClass:"pd25"},[a("div",[t._v("杨泗潭村已导入")]),a("p",[t._v("种植主体合计 XXX 个，种植面积合计 XXX 亩；")]),a("div",[t._v("XXXX村已导入：")]),a("p",[t._v("种植主体合计 XXX 个，种植面积合计 XXX 亩；")]),a("div",[t._v("XXXX村已导入：")]),a("p",[t._v("种植主体合计 XXX 个，种植面积合计 XXX 亩；")])]):t._e()],1)])}),[],!1,null,"2372fd4e",null);e.a=d.exports},dd50:function(t,e,a){"use strict";var r=a("5187");a.n(r).a},f028:function(t,e){function a(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function n(t,e){if(null==t)return{};var a,r,n=function(t,e){if(null==t)return{};var a,r,n={},s=Object.keys(t);for(r=0;r<s.length;r++)a=s[r],e.indexOf(a)>=0||(n[a]=t[a]);return n}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)a=s[r],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}t.exports={functional:!0,render:function(t,e){var s=e._c,i=(e._v,e.data),o=e.children,l=void 0===o?[]:o,u=i.class,c=i.staticClass,f=i.style,d=i.staticStyle,p=i.attrs,b=void 0===p?{}:p,m=n(i,["class","staticClass","style","staticStyle","attrs"]);return s("svg",function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({class:[u,c],style:[f,d],attrs:Object.assign({width:"20",height:"24",xmlns:"http://www.w3.org/2000/svg"},b)},m),l.concat([s("g",{attrs:{id:"页面-1",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"}},[s("g",{attrs:{id:"3-任务详情",transform:"translate(-462 -420)",fill:"#36A065","fill-rule":"nonzero"}},[s("g",{attrs:{id:"编组-16备份",transform:"translate(120 273)"}},[s("g",{attrs:{id:"编组-18",transform:"translate(309 116)"}},[s("g",{attrs:{id:"编组-15",transform:"translate(20 20)"}},[s("g",{attrs:{id:"编组-14"}},[s("g",{attrs:{id:"编组",transform:"translate(13 11)"}},[s("path",{attrs:{d:"M1.683 24A1.68 1.68 0 010 22.335V1.695C0 .765.758.015 1.683.015h10.716C12.46 0 12.505 0 12.551 0c.212 0 .41.09.56.225l6.67 4.8c.167.165.243.42.212.645v16.65a1.68 1.68 0 01-1.682 1.665H1.683V24zM1.24 1A.237.237 0 001 1.239V21.76c0 .135.105.239.24.239h16.52c.135 0 .24-.104.24-.239V5.445l-6.083-4.37v-.06H1.24V1zm5.415 23v-6.036H3L10 11l7 6.964h-3.656V24H6.656zm1.923-2h3.826v-5.754H14L10.492 13 7 16.231h1.595V22h-.016zM3 10V9h13v1H3zm0-4V5h5v1H3z",id:"形状"}})])])])])])])])]))}}},f729:function(t,e,a){"use strict";var r=a("1192");a.n(r).a}}]);